---
import { Picture } from "astro:assets";
import OooscillateLines from "@shared/content/OooscillateLines.astro";
import InsetRadial from "@shared/content/InsetRadial.astro";
import "@/themes/molecules/wordAnimate.scss";
import avatar from "./assets/avatar.avif";

const textReveal = `ðŸ‘‹ Hello, I'm Brandol`;
---

<article
  id="about"
  class="pf-focus--overview col-span-6 md:col-span-5 relative w-full min-h-[60dvh] animate-fade-up animate-duration-500 animate-delay-0"
>
  <OooscillateLines />

  <article class="h-full w-full flex flex-col md:flex-row gap-8">
    <figure
      class="m-auto w-[15rem] md:w-[28rem] relative saturate-[120%] brightness-100 transition-all"
    >
      <div class="absolute inset-0 -z-10 opacity-80 contrast-50 blur-2xl">
        <InsetRadial
          width="200px"
          initBg="#67e8f93a"
          endBg="rgb(0,255,247,0.02)"
        />
      </div>

      <Picture
        class="object-cover object-top [transition:all_.1s_ease-in] hover:[filter:drop-shadow(0_0_1.3em_rgb(0,255,247,0.09))] rounded-[2rem] cursor-crosshair will-change-[filter] lg:p-2 [mask-image:linear-gradient(black_40%,transparent)] rounded-bl-[10rem]"
        src={avatar}
        alt="Avatar"
        loading="eager"
        formats={["avif", "webp", "png"]}
      />
    </figure>

    <div class="w-full h-full flex flex-col gap-8 md:gap-0 relative">
      <div class="flex flex-col justify-evenly h-full gap-8 md:gap-0">
        <h1 
          class="relative inline-block
            text-3xl
            sm:text-3xl
            md:text-3xl
            lg:text-5xl
            xl:text-5xl
            2xl:text-5xl
            font-bold
            overflow-hidden"
        >
          
          <span class="word-animate-reveal text-yellow-500">
            {
              textReveal.match(/./gu)!.map((char, index) => (
                <span
                  class="word-item"
                  style={{ animationDelay: `${index * 0.05}s` }}
                >
                  {char === " " ? "\u00A0" : char}
                </span>
              ))
            }
          </span>

        </h1>

        <h2
          class="text-lg lg:text-2xl text-balance max-w-[700px] text-sky-200 font-semibold leading-6 tracking-widest"
        >
          Creative problem solver with a full-stack skillset, passionate about
          mastering new technologies and crafting elegant solutions.
        </h2>
      </div>

      <div class="flex justify-end items-center">
        <p
          class="text-right text-red-200 font-semibold text-[0.8rem] lg:text-[1rem] leading-normal max-w-[40ch]"
        >
          "A user interface is like a joke. If you have to explain it, it's not
          so good"
        </p>
      </div>
    </div>
  </article>
</article>

<style is:inline>

  .word-animate-reveal {
    letter-spacing: 1px;
    
  }

  .word-item {
    display: inline-block;
    animation: reveal 1.5s cubic-bezier(0.77, 0, 0.175, 1) 0.5s;
    animation-fill-mode: backwards;
  }

  @keyframes reveal {
    0% {
      transform: translate(0, 100%);
    }
    100% {
      transform: translate(0, 0);
    }
  }
</style>


<script >

  import { splotlightBorder } from "@shared/lib/spotlight-border";
  import { mouseFollowerRun } from "@shared/lib/mouse-follower";
  
  splotlightBorder({ selector: "about" });
  mouseFollowerRun({ selector: "about" });
  
</script>